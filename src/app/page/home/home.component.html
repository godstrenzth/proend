<mat-sidenav-container class="sidenav-container" style="background-color: rgb(199, 152, 243);">
  <mat-sidenav #sidenav mode="side" opened [position]="'start'" class="app-sidenav" >
    <mat-icon *ngIf="sidenav.opened" (click)="animateSidenav()"class="collapse-sidenav  " >keyboard_backspace</mat-icon>

    <mat-nav-list style="margin-top: 60px;" >
      <mat-icon *ngIf="!sidenav.opened" class="expand-sidenav" (click)="animateSidenav()" style="margin-left: -10px;" >menu</mat-icon>


      <div *ngIf="sidenav.opened" style="display: flex;justify-content: center;">
        <img  style="width: 40%;border-radius: 20%;" src="https://img5.pic.in.th/file/secure-sv1/a832c74c-235a-4a1b-b9e0-0ef64fbf45c3.jpeg" alt="">
      </div>
      <div *ngIf="sidenav.opened" style="display: flex;justify-content: center;margin-top: 4px;">


        <button mat-raised-button color="primary" style="border-radius: 60%;" *ngIf="statuslocal == 1 " >Host</button>
        <button mat-raised-button color="primary" style="border-radius: 60%;" *ngIf="statuslocal == 2" >Referee</button>
        <button mat-raised-button color="primary" style="border-radius: 60%;" *ngIf="statuslocal == 3" >Athlete</button>
      </div>
      <mat-list-item (click)="opnediaStatus()">

        <mat-icon matListItemIcon style="color: white;"> manage_accounts</mat-icon>
        <div matListItemTitle style="color: white;">status</div>
      </mat-list-item>
      <mat-list-item  *ngIf="statuslocal == 1 " (click)="opneCDetail()">

      <mat-icon matListItemIcon style="color: white;" > add</mat-icon>
        <div matListItemTitle style="color: white;">Create</div>
      </mat-list-item>

      <a  (click)="selectmenu(1,sidenav.opened)">
        <!-- <a routerLink="/contact"></a> -->
        <hr>
        <mat-list-item>
          <mat-icon matListItemIcon style="color: white;">home</mat-icon>
          <div matListItemTitle style="color: white;">Home</div>
        </mat-list-item>
        </a>
        <a (click)="selectmenu(2,sidenav.opened)">
          <mat-list-item>
            <mat-icon matListItemIcon style="color: white;">person</mat-icon>
            <div matListItemTitle style="color: white;">Profile</div>
          </mat-list-item>
          </a>
      <a (click)="selectmenu(3,sidenav.opened)">
      <mat-list-item>
        <mat-icon matListItemIcon style="color: white;">checklist</mat-icon>
        <div matListItemTitle style="color: white;">MyList</div>
      </mat-list-item>
      </a>
      <a (click)="selectmenu(4,sidenav.opened)">
        <mat-list-item>
          <mat-icon matListItemIcon style="color: white;">groups</mat-icon>
          <div matListItemTitle style="color: white;">Propulation</div>
        </mat-list-item>
        </a>
        <hr>
      <div>

        <a routerLink="/">
          <mat-list-item>
            <mat-icon matListItemIcon style="color: white;">logout</mat-icon>
            <div matListItemTitle style="color: white;">Logout</div>
          </mat-list-item>
        </a>
        <hr>
      </div>

    </mat-nav-list>
  </mat-sidenav>
  <!-- <mat-sidenav-content *ngIf="menu == 1" style="background-color: rgb(199, 152, 243);" #sidenavContent1> -->
  <mat-sidenav-content *ngIf="menu == 1" style="background-color: rgb(199, 152, 243);" #sidenavContent1 [style.marginLeft.px]="sidenav.opened ? 200 : 55">
    <div style="display: flex;flex-wrap: wrap;">
    <div class="card" style="width: 300px; padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    background-color: #fff;
    align-items: center;
    margin: 20px;position: relative;min-height: 430px; " *ngFor="let com of this.competS">
      <div style=" font-size: 1.2em;font-weight: bold;margin-bottom: 10px;width: 100%;text-align: center;">{{com.competName}}</div>
      <!-- //style="white-space: nowrap;" -->
      <img  style="width: 100%;min-height: 40%;max-height: 40%;" src= "http://127.0.0.1/projectwebapi/poster/{{com.poster}}" class="card-img-top">

      <br>
      <div class="card-body" style="width: 100%;" >
        <div class="fxLayout" style="flex-direction: row;justify-content: space-around;margin-bottom: 10px;">

          <div *ngIf="com.regis_end <= daynow">
            <mat-icon>cancel</mat-icon>

          </div>
          <div *ngIf="com.regis_end > daynow">
            <mat-icon>check</mat-icon>
          </div>
          <span  class="fxLayout" style="flex-direction: row;align-items: center;justify-content: center;"><mat-icon>group</mat-icon>&nbsp;&nbsp;30</span>
        </div>

        <!-- <p>Type : poomsae</p>
        <p>รุ่น : 14-21ปี ?Gender:ชาย?</p> -->
        <span  class="fxLayout" style="align-items: center;justify-content: center;text-align: center;">Place : {{com.place}}</span>
        <span  class="fxLayout" style="flex-direction: row;align-items: center;justify-content: center;"><mat-icon>event_note</mat-icon>&nbsp;&nbsp;{{ datePipe.transform(com.regis_end, 'dd/MM/yyyy') }}</span>
        <button mat-flat-button color="primary" style="width: 50%;border-color: #fff;margin-top: 10px;width: 100%;" [routerLink]="'/compete/' + com.cid" >More</button>
      </div>
    </div>
  </div>
  </mat-sidenav-content>


  <mat-sidenav-content *ngIf="menu == 2"  style="background-color: rgb(199, 152, 243);"#sidenavContent2 [style.marginLeft.px]="sidenav.opened ? 200 : 55">
    <div class="card" *ngFor="let user of this.user1"  style="width: 80%; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); background-color: #fff; margin: 20px; flex-wrap: wrap;">
      <div style="font-size: 1.5em; font-weight: bold; margin-bottom: 10px; letter-spacing: 0.1em;">
        <h3>Profile</h3>
      </div>
      <br>
      <div style="display: flex; flex-wrap: wrap;flex-direction: column;place-content: ceter; width: 100%;">
        <div style=" margin-bottom: 10px;">
          <h5>ID: {{user.user_id}}</h5>
        </div>
        <div style=" margin-bottom: 10px;">
          <h5>Name: {{user.fullName}}</h5>
        </div>

        <div style=" margin-bottom: 10px;">
          <h5>Date of birth:  {{ calculateAge(user.brithday) }}</h5>
        </div>
        <div style=" margin-bottom: 10px;">
          <h5>Gender:  {{user.gender}}</h5>
        </div>
        <div style=" margin-bottom: 10px;">
          <h5>Tel: {{user.phoneNumber}}</h5>
        </div>
        <div style=" margin-bottom: 10px;width: 100%;">
          <h5>Email: {{user.email}}</h5>

        </div>
      </div>
      <hr color="#ff3ff" width="80%" size="5">

      <div>
        <h5>History</h5>
      </div>

      <div style="display: flex; flex-wrap: wrap;">
        <div style="flex: 1 1 50%; margin-bottom: 10px;">
          <h5>sadasd</h5>
        </div>
        <div style="flex: 1 1 50%; margin-bottom: 10px;">
          <h5>sadasd</h5>
        </div>
        <div style="flex: 1 1 50%; margin-bottom: 10px;">
          <h5>sadasd</h5>
        </div>
        <div style="flex: 1 1 50%; margin-bottom: 10px;">
          <h5>sadasd</h5>
        </div>
      </div>
    </div>


  </mat-sidenav-content>
  <mat-sidenav-content *ngIf="menu == 3"  style="background-color: rgb(199, 152, 243);"#sidenavContent3 [style.marginLeft.px]="sidenav.opened ? 200 : 55">
    <div style="display: flex;flex-wrap: wrap;">
          <div class="card" style="width: 300px; padding: 20px;
                border-radius: 10px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                background-color: #fff;
                align-items: center;
                margin: 20px; min-height: 430px;" *ngFor="let com of this.competM">
                <div style=" font-size: 1.2em;font-weight: bold;margin-bottom: 10px;width: 100%;text-align: center;">{{com.competName}}</div>
                <img  style="width: 100%;min-height: 40%;max-height: 40%;" src= "http://127.0.0.1/projectwebapi/poster/{{com.poster}}" class="card-img-top">
                <br>
                <div class="card-body" style="width: 100%;" >
                  <div class="fxLayout" style="flex-direction: row;justify-content: space-around;margin-bottom: 10px;">
                    <div *ngIf="com.regis_end <= daynow">
                      <mat-icon>cancel</mat-icon>

                    </div>
                    <div *ngIf="com.regis_end > daynow">
                      <mat-icon>check</mat-icon>
                    </div>
                    <span  class="fxLayout" style="flex-direction: row;align-items: center;"><mat-icon>group</mat-icon>&nbsp;&nbsp;30</span>
                  </div>

                  <!-- <p>Type : poomsae</p>
                  <p>รุ่น : 14-21ปี ?Gender:ชาย?</p> -->
                  <span  class="fxLayout" style="align-items: center;justify-content: center;text-align: center;">Place : {{com.place}}</span>
                  <span  class="fxLayout" style="flex-direction: row;align-items: center;justify-content: center;"><mat-icon>event_note</mat-icon>&nbsp;&nbsp;{{ datePipe.transform(com.regis_end, 'dd/MM/yyyy') }}</span>
                  <button mat-flat-button color="primary" style="width: 50%;border-color: #fff;margin-top: 10px;width: 100%;"  [routerLink]="'/compete/' + com.cid" >More</button>
                </div>
          </div>

    </div>

  </mat-sidenav-content>

  <mat-sidenav-content *ngIf="menu == 4"  style="background-color: rgb(199, 152, 243);"#sidenavContent4 [style.marginLeft.px]="sidenav.opened ? 200 : 55">
    <div class="card" style="width: 90%; padding: 1rem;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    background-color: #fff;
    align-items: center;
    margin: 1rem;flex-wrap: wrap;">
      <div style="display: flex;flex-direction: column;width: 100%;">
        <div class="fxLayout" style="flex-direction: row;align-items: center;">
          <!-- (keydown.enter)="search() -->
          <input matInput  #sea type="text"  (keyup)="applyFilter($event)" style="width: 18.75rem;height: 2.188rem;" placeholder="Search">
          &nbsp;<mat-icon (click)="search()">search</mat-icon>

        </div>

        <br>


        <div >
          <table mat-table [dataSource]="dataSource"   style="width: 100%;" >

            <!-- Position Column -->
            <ng-container matColumnDef="position">
              <th mat-header-cell *matHeaderCellDef> ID </th>
              <td mat-cell *matCellDef="let element"> {{element.user_id}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="Name">
              <th mat-header-cell *matHeaderCellDef> Name </th>
              <td mat-cell *matCellDef="let element"> {{element.fullName}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="Phone">
              <th mat-header-cell *matHeaderCellDef> Phone </th>
              <td mat-cell *matCellDef="let element"> {{element.phoneNumber}}   </td>
            </ng-container>

            <ng-container matColumnDef="Detail">
              <th mat-header-cell *matHeaderCellDef> Detail </th>
              <td mat-cell *matCellDef="let element "> <button mat-flat-button color="primary"   (click)="opnediauserDetail(element.user_id)">View</button> </td>
            </ng-container>
            <!-- [style.backgroundColor]="this.colorMain" -->
            <!-- Symbol Column
            <ng-container matColumnDef="symbol">
              <th mat-header-cell *matHeaderCellDef> Symbol </th>
              <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
            </ng-container> -->

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
              <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
            </tr>
          </table>

          <mat-paginator [pageSizeOptions]="[5, 10, 20]" aria-label="Select page"></mat-paginator>
        </div>

      </div>
   </div>

  </mat-sidenav-content>
</mat-sidenav-container>
